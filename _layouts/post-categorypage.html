---
layout: default
# === Page Specific Variables ===
# title: "input your title here"
# title_align: "left"
# content_before_table: "i am content before table"

# --- table related ---
# table_datapath: "path-to-your-datafile.yml"
# table_row: 2
# table_col: 3
# number_of_latest_posts: 6

# --- data.yml example ---
#- url: "https://www.google.co.uk/"
#  thumbnail: "/assets/image/github-logo copy.png"
#  alt-text: "image of github"
#  title: "Go to github"
#  image-offset: 50% 75%


---

<style>
  h1 {
    padding-top: 5vh;
    padding-bottom: 5vh;
  }
  .basic-page-wrapper {
    background-color: azure;
    padding-top: 2.5vh;
    padding-bottom: 2.5vh;
    padding-left: 2.5vw;
    padding-right: 2.5vw;
  }

  .post-categorypage-tablerow {
    display: flex;
    flex-direction: row;
    justify-content: space-evenly;
  }

  .post-categorypage-table {
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
  }

  .post-categorypage-tablerow img{
    width: 15vw;
    height: 15vh;

    object-fit: cover;
  }

  .post-categorypage-tablerow p{
    width: 100%;
    text-align: center;
    background-color: rgba(0, 0, 0, 0.414);
  }

</style>

<div class="basic-page-wrapper" style="text-align:{{page.title_align}};">
  <h1>{{page.title}}</h1>

  <div class="post-categorypage-before-table-content">
  {{page.content_before_table}}
  </div>

  {%- if page.number_of_latest_posts > 0 -%}

    <div class="post-categorypage-table">
    <!-- Make sure that the post is not a date that has yet to occur yet else it wont show -->
    {%- assign rowIndex = 0 -%} 
    {%- assign colIndex = 0 -%}

    <!-- Open the row div for the very first index -->
    <div class="post-categorypage-tablerow">

    {% for post in site.data[page.table_datapath] %}

      <!-- IF (the number of posts to be displayed in the table exceeds) -->
      {%- if forloop.index > page.number_of_latest_posts -%} 
        </div>
        {% break %} 
      {%-endif -%}
      <!-- ENDIF -->

      <!-- IF (one row is completed, reset colIndex and increment rowIndex) -->
      {%- if colIndex >= page.table_col -%} 
        </div>
        <!-- If the table size (row x col) is exceeded, break -->
        {%- if rowIndex >= page.table_row -%}
        {% break %}
      {%- endif -%}
      <!-- ENDIF -->

      <!-- Close the div tag and start a new row tag -->
      {%- assign rowIndex = rowIndex | plus: 1 -%} 
      {%- assign colIndex = 0 -%}
      <!-- Else, we open the new table row div to start a new row -->
      <div class="post-categorypage-tablerow">

      {%- endif -%}
      <!-- ENDIF -->

      <div class="post-categorypage-table-cell">
        <a href="{{post.url}}">
          <img src="{{post.thumbnail}}" alt="{{post.alt-text}}" style="object-position:{{post.image-offset}}"/>
        </a>
        <p>{{post.title}}</p>
        <br>
      </div>
        
      {%- assign colIndex = colIndex | plus: 1 -%} 

    {% endfor %}
    </div>
  {%- endif -%} 


  {{content}}
</div>
